{"version":3,"sources":["../../src/lib/table.js"],"names":["TableStream","Transform","constructor","objectMode","head","_transform","data","encoding","next","s","getTable","push","values","table","Table","chars","mid","colWidths","toString"],"mappings":";;;;;;;;AAAA;;AACA;;;;AAEe,MAAMA,WAAN,SAA0BC,iBAA1B,CAAoC;AACjDC,gBAAc;AACZ,UAAM;AAAEC,kBAAY;AAAd,KAAN;AACA,SAAKC,IAAL,GAAY,CAAC,OAAD,EAAU,KAAV,EAAiB,OAAjB,EAA0B,KAA1B,CAAZ;AACD;;AACDC,aAAWC,IAAX,EAAiBC,QAAjB,EAA2BC,IAA3B,EAAiC;AAC/B,UAAMC,IAAIC,SAASJ,IAAT,EAAe,KAAKF,IAApB,CAAV;AACA,SAAKO,IAAL,CAAW,GAAEF,CAAE,IAAf;AACAD;AACD;;AATgD;;;;AAY5C,SAASE,QAAT,CAAkBE,MAAlB,EAA0BR,IAA1B,EAAgC;AACrC,QAAMS,QAAQ,IAAIC,iBAAJ,CAAU;AACtBV,QADsB;AAEtBW,WAAO;AAAEC,WAAK,EAAP;AAAW,kBAAY,EAAvB;AAA2B,iBAAW,EAAtC;AAA0C,mBAAa;AAAvD,KAFe;AAGtBC,eAAW,CAAE,CAAF,EAAK,EAAL,EAAS,EAAT,EAAa,CAAb;AAHW,GAAV,CAAd;AAMAJ,QAAMF,IAAN,CAAW,GAAGC,MAAd;AACA,SAAOC,MAAMK,QAAN,EAAP;AACD","sourcesContent":["import Table from 'cli-table'\nimport { Transform } from 'stream'\n\nexport default class TableStream extends Transform {\n  constructor() {\n    super({ objectMode: true })\n    this.head = ['winid', 'app', 'title', 'pid']\n  }\n  _transform(data, encoding, next) {\n    const s = getTable(data, this.head)\n    this.push(`${s}\\n`)\n    next()\n  }\n}\n\nexport function getTable(values, head) {\n  const table = new Table({\n    head,\n    chars: { mid: '', 'left-mid': '', 'mid-mid': '', 'right-mid': '' },\n    colWidths: [ 8, 18, 40, 8 ],\n  })\n\n  table.push(...values)\n  return table.toString()\n}\n"],"file":"table.js"}